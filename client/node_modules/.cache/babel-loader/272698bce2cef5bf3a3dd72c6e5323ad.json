{"ast":null,"code":"import _slicedToArray from \"/Users/andyyu/Desktop/Vixual/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/andyyu/Desktop/Vixual/client/src/components/member/MemberRoom.js\";\nimport React, { useState, useEffect } from 'react';\nimport SearchBar from './SearchBar';\nimport \"./Member.css\";\nimport axios from 'axios';\nimport VideoItems from './VideoItems';\nimport QueuedVideoList from './QueuedVideoList';\nimport io from 'socket.io-client';\nlet socket;\n\nfunction MemberRoom(props) {\n  console.log(props.match.params); //set initial state\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        videos = _useState2[0],\n        setVideo = _useState2[1];\n\n  const _useState3 = useState({\n    videoId: '',\n    title: ''\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        selectedVideo = _useState4[0],\n        setSelectedVideo = _useState4[1];\n\n  const ENDPOINT = 'localhost:5000';\n  const KEY = \"AIzaSyAaRcZkRc1u3fSFFPN2GQTWjuYc7pDIQtw\";\n\n  const getSearch = input => {\n    console.log(input);\n    axios.get(\"https://www.googleapis.com/youtube/v3/search\", {\n      params: {\n        part: \"snippet\",\n        maxResults: 5,\n        key: KEY,\n        type: \"video\",\n        q: input\n      }\n    }).then(response => {\n      console.log('Received response form Youtube API');\n      console.log(response.data.items);\n      setVideo(response.data.items);\n    }).catch(err => {\n      console.error(err);\n    });\n    ;\n  };\n\n  const selectedVideoFunc = video => {\n    setSelectedVideo({\n      videoId: video.id.videoId,\n      title: video.snippet.title\n    });\n  };\n\n  useEffect(() => {\n    socket = io(ENDPOINT);\n    console.log(socket);\n    console.log(props.match.params);\n    socket.emit('join', \"test\"); //for unmount\n\n    return () => {\n      socket.emit('disconnect');\n      socket.off();\n    };\n  }, [ENDPOINT, props.match.params]);\n  return React.createElement(\"div\", {\n    className: \"member-room\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"search-bar ui segment\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(SearchBar, {\n    sendSearch: getSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(VideoItems, {\n    videos: videos,\n    selectedVideo: selectedVideoFunc,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }), React.createElement(QueuedVideoList, {\n    addToQueue: selectedVideo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })));\n}\n\nexport default MemberRoom; // import React, {useEffect} from 'react';\n// import SearchBar from './SearchBar';\n// import \"./Member.css\";\n// import axios from 'axios';\n// import VideoItems from './VideoItems';\n// import QueuedVideoList from './QueuedVideoList';\n// import io from 'socket.io-client'\n// let socket;\n// class MemberRoom extends React.Component{\n//     constructor(props){\n//         super(props);\n//         console.log(this.props.match.params);\n//     }\n//     state = {\n//         videos: [],\n//         selectedVideo: {\n//             videoId: '',\n//             title: '',\n//         }\n//     }\n//     KEY = \"AIzaSyAaRcZkRc1u3fSFFPN2GQTWjuYc7pDIQtw\";\n//     getSearch = (input) => {\n//         console.log(input)\n//         axios.get(\"https://www.googleapis.com/youtube/v3/search\", {\n//             params: {\n//               part: \"snippet\",\n//               maxResults: 5,\n//               key: this.KEY,\n//               type: \"video\",\n//               q: input\n//             },\n//           }\n//         ).then(response => {\n//             console.log('Received response form Youtube API');\n//             console.log(response.data.items);\n//             this.setState({videos: response.data.items});\n//         }).catch(err => {\n//             console.error(err);\n//         });\n//         ;\n//     }\n//     selectedVideo = (video) => {\n//         this.setState({selectedVideo: {videoId: video.id.videoId, title: video.snippet.title}});\n//     }\n//     render(){\n//         return(\n//             <div className=\"member-room\">\n//                 <div className=\"search-bar ui segment\">\n//                     <SearchBar sendSearch={this.getSearch}/>\n//                     <VideoItems videos={this.state.videos} selectedVideo={this.selectedVideo}/>\n//                     <QueuedVideoList addToQueue={this.state.selectedVideo}/>\n//                 </div>\n//             </div>\n//         );\n//     }\n// }\n// export default MemberRoom;","map":{"version":3,"sources":["/Users/andyyu/Desktop/Vixual/client/src/components/member/MemberRoom.js"],"names":["React","useState","useEffect","SearchBar","axios","VideoItems","QueuedVideoList","io","socket","MemberRoom","props","console","log","match","params","videos","setVideo","videoId","title","selectedVideo","setSelectedVideo","ENDPOINT","KEY","getSearch","input","get","part","maxResults","key","type","q","then","response","data","items","catch","err","error","selectedVideoFunc","video","id","snippet","emit","off"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAO,cAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,IAAIC,MAAJ;;AAGA,SAASC,UAAT,CAAoBC,KAApB,EAA0B;AACtBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,KAAN,CAAYC,MAAxB,EADsB,CAGtB;;AAHsB,oBAIKb,QAAQ,CAAC,EAAD,CAJb;AAAA;AAAA,QAIfc,MAJe;AAAA,QAIPC,QAJO;;AAAA,qBAKoBf,QAAQ,CAAC;AAC/CgB,IAAAA,OAAO,EAAE,EADsC;AAE/CC,IAAAA,KAAK,EAAE;AAFwC,GAAD,CAL5B;AAAA;AAAA,QAKfC,aALe;AAAA,QAKAC,gBALA;;AAUtB,QAAMC,QAAQ,GAAG,gBAAjB;AAEA,QAAMC,GAAG,GAAG,yCAAZ;;AAEA,QAAMC,SAAS,GAAIC,KAAD,IAAW;AACzBb,IAAAA,OAAO,CAACC,GAAR,CAAYY,KAAZ;AACApB,IAAAA,KAAK,CAACqB,GAAN,CAAU,8CAAV,EAA0D;AACtDX,MAAAA,MAAM,EAAE;AACNY,QAAAA,IAAI,EAAE,SADA;AAENC,QAAAA,UAAU,EAAE,CAFN;AAGNC,QAAAA,GAAG,EAAEN,GAHC;AAINO,QAAAA,IAAI,EAAE,OAJA;AAKNC,QAAAA,CAAC,EAAEN;AALG;AAD8C,KAA1D,EASEO,IATF,CASOC,QAAQ,IAAI;AACfrB,MAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYoB,QAAQ,CAACC,IAAT,CAAcC,KAA1B;AACAlB,MAAAA,QAAQ,CAACgB,QAAQ,CAACC,IAAT,CAAcC,KAAf,CAAR;AACH,KAbD,EAaGC,KAbH,CAaSC,GAAG,IAAI;AACZzB,MAAAA,OAAO,CAAC0B,KAAR,CAAcD,GAAd;AACH,KAfD;AAgBA;AACH,GAnBD;;AAqBA,QAAME,iBAAiB,GAAIC,KAAD,IAAW;AACjCnB,IAAAA,gBAAgB,CAAC;AACbH,MAAAA,OAAO,EAAEsB,KAAK,CAACC,EAAN,CAASvB,OADL;AAEbC,MAAAA,KAAK,EAAEqB,KAAK,CAACE,OAAN,CAAcvB;AAFR,KAAD,CAAhB;AAIH,GALD;;AAOAhB,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,MAAM,GAAGD,EAAE,CAACc,QAAD,CAAX;AACAV,IAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,KAAN,CAAYC,MAAxB;AACAN,IAAAA,MAAM,CAACkC,IAAP,CAAY,MAAZ,EAAoB,MAApB,EAJY,CAOZ;;AACA,WAAO,MAAM;AACTlC,MAAAA,MAAM,CAACkC,IAAP,CAAY,YAAZ;AACAlC,MAAAA,MAAM,CAACmC,GAAP;AACH,KAHD;AAIH,GAZQ,EAYN,CAACtB,QAAD,EAAWX,KAAK,CAACG,KAAN,CAAYC,MAAvB,CAZM,CAAT;AAcA,SACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AAAW,IAAA,UAAU,EAAES,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAER,MAApB;AAA4B,IAAA,aAAa,EAAEuB,iBAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI,oBAAC,eAAD;AAAiB,IAAA,UAAU,EAAEnB,aAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADJ,CADJ;AAUH;;AAED,eAAeV,UAAf,C,CAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport SearchBar from './SearchBar';\nimport \"./Member.css\";\nimport axios from 'axios';\nimport VideoItems from './VideoItems';\nimport QueuedVideoList from './QueuedVideoList';\nimport io from 'socket.io-client'\nlet socket;\n\n\nfunction MemberRoom(props){\n    console.log(props.match.params);\n\n    //set initial state\n    const [videos, setVideo] = useState([])\n    const [selectedVideo, setSelectedVideo] = useState({\n        videoId: '',\n        title: ''\n    })\n\n    const ENDPOINT = 'localhost:5000';\n\n    const KEY = \"AIzaSyAaRcZkRc1u3fSFFPN2GQTWjuYc7pDIQtw\";\n\n    const getSearch = (input) => {\n        console.log(input)\n        axios.get(\"https://www.googleapis.com/youtube/v3/search\", {\n            params: {\n              part: \"snippet\",\n              maxResults: 5,\n              key: KEY,\n              type: \"video\",\n              q: input\n            },\n          }\n        ).then(response => {\n            console.log('Received response form Youtube API');\n            console.log(response.data.items);\n            setVideo(response.data.items);\n        }).catch(err => {\n            console.error(err);\n        });\n        ;\n    }\n\n    const selectedVideoFunc = (video) => {\n        setSelectedVideo({\n            videoId: video.id.videoId,\n            title: video.snippet.title\n        })\n    }\n\n    useEffect(() => {\n        socket = io(ENDPOINT);\n        console.log(socket);\n        console.log(props.match.params);\n        socket.emit('join', \"test\");\n        \n\n        //for unmount\n        return () => {\n            socket.emit('disconnect');\n            socket.off();\n        }\n    }, [ENDPOINT, props.match.params])\n\n    return(\n        <div className=\"member-room\">\n            <div className=\"search-bar ui segment\">\n                <SearchBar sendSearch={getSearch}/>\n                <VideoItems videos={videos} selectedVideo={selectedVideoFunc}/>\n                <QueuedVideoList addToQueue={selectedVideo}/>\n            </div>\n        </div>\n    );\n\n}\n\nexport default MemberRoom;\n\n\n\n\n\n\n// import React, {useEffect} from 'react';\n// import SearchBar from './SearchBar';\n// import \"./Member.css\";\n// import axios from 'axios';\n// import VideoItems from './VideoItems';\n// import QueuedVideoList from './QueuedVideoList';\n// import io from 'socket.io-client'\n// let socket;\n\n\n// class MemberRoom extends React.Component{\n//     constructor(props){\n//         super(props);\n//         console.log(this.props.match.params);\n//     }\n\n//     state = {\n//         videos: [],\n//         selectedVideo: {\n//             videoId: '',\n//             title: '',\n//         }\n//     }\n\n//     KEY = \"AIzaSyAaRcZkRc1u3fSFFPN2GQTWjuYc7pDIQtw\";\n\n//     getSearch = (input) => {\n//         console.log(input)\n//         axios.get(\"https://www.googleapis.com/youtube/v3/search\", {\n//             params: {\n//               part: \"snippet\",\n//               maxResults: 5,\n//               key: this.KEY,\n//               type: \"video\",\n//               q: input\n//             },\n//           }\n//         ).then(response => {\n//             console.log('Received response form Youtube API');\n//             console.log(response.data.items);\n//             this.setState({videos: response.data.items});\n//         }).catch(err => {\n//             console.error(err);\n//         });\n//         ;\n//     }\n\n//     selectedVideo = (video) => {\n//         this.setState({selectedVideo: {videoId: video.id.videoId, title: video.snippet.title}});\n//     }\n\n//     render(){\n\n//         return(\n//             <div className=\"member-room\">\n//                 <div className=\"search-bar ui segment\">\n//                     <SearchBar sendSearch={this.getSearch}/>\n//                     <VideoItems videos={this.state.videos} selectedVideo={this.selectedVideo}/>\n//                     <QueuedVideoList addToQueue={this.state.selectedVideo}/>\n//                 </div>\n//             </div>\n//         );\n//     }\n// }\n\n// export default MemberRoom;"]},"metadata":{},"sourceType":"module"}