{"ast":null,"code":"var _jsxFileName = \"/Users/andyyu/Desktop/Vixual/client/src/components/member/VideoPlayer.js\";\nimport React, { Component } from 'react';\nimport ReactPlayer from \"react-player/youtube\";\n\nclass VideoPlayer extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleOnPlay = () => {\n      this.props.emitPlayPause(true, this.props.roomId);\n    };\n\n    this.handleOnPause = () => {\n      this.props.emitPlayPause(false, this.props.roomId);\n    };\n\n    this.handleOnProgress = data => {\n      console.log(this.props.time);\n      console.log(data.playedSeconds);\n      let socketTime = this.props.time;\n      let currentTime = data.playedSeconds; //if my time is less than or greater than socket time by 10 skip to socket time\n\n      if (Math.abs(socketTime - currentTime) > 9) {\n        console.log('test1');\n        this.player.seekTo(socketTime, 'seconds');\n      }\n\n      console.log('test2');\n      this.props.emitTime(data.playedSeconds, this.props.roomId);\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, this.props.videoId !== '' ? React.createElement(ReactPlayer, {\n      url: `https://www.youtube.com/watch?v=${this.props.videoId}`,\n      rel: 0,\n      controls: true,\n      ref: player => {\n        this.player = player;\n      },\n      playing: this.props.playPause,\n      onPlay: this.handleOnPlay,\n      onPause: this.handleOnPause,\n      onBuffer: this.handleOnPause,\n      onBufferEnd: this.handleOnPlay,\n      onProgress: this.handleOnProgress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Select A Video\"));\n  }\n\n}\n\nexport default VideoPlayer;","map":{"version":3,"sources":["/Users/andyyu/Desktop/Vixual/client/src/components/member/VideoPlayer.js"],"names":["React","Component","ReactPlayer","VideoPlayer","handleOnPlay","props","emitPlayPause","roomId","handleOnPause","handleOnProgress","data","console","log","time","playedSeconds","socketTime","currentTime","Math","abs","player","seekTo","emitTime","render","videoId","playPause"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,sBAAxB;;AAEA,MAAMC,WAAN,SAA0BF,SAA1B,CAAoC;AAAA;AAAA;;AAAA,SAIhCG,YAJgC,GAIjB,MAAM;AACjB,WAAKC,KAAL,CAAWC,aAAX,CAAyB,IAAzB,EAA8B,KAAKD,KAAL,CAAWE,MAAzC;AACH,KAN+B;;AAAA,SAOhCC,aAPgC,GAOhB,MAAM;AAClB,WAAKH,KAAL,CAAWC,aAAX,CAAyB,KAAzB,EAA+B,KAAKD,KAAL,CAAWE,MAA1C;AACH,KAT+B;;AAAA,SAUhCE,gBAVgC,GAUZC,IAAD,IAAU;AACzBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAL,CAAWQ,IAAvB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACI,aAAjB;AACA,UAAIC,UAAU,GAAG,KAAKV,KAAL,CAAWQ,IAA5B;AACA,UAAIG,WAAW,GAAGN,IAAI,CAACI,aAAvB,CAJyB,CAMzB;;AACA,UAAGG,IAAI,CAACC,GAAL,CAASH,UAAU,GAAGC,WAAtB,IAAqC,CAAxC,EAA0C;AACtCL,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,aAAKO,MAAL,CAAYC,MAAZ,CAAmBL,UAAnB,EAA+B,SAA/B;AACH;;AACDJ,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,WAAKP,KAAL,CAAWgB,QAAX,CAAoBX,IAAI,CAACI,aAAzB,EAAwC,KAAKT,KAAL,CAAWE,MAAnD;AACH,KAvB+B;AAAA;;AA0BhCe,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACM,KAAKjB,KAAL,CAAWkB,OAAX,KAAuB,EAAxB,GACK,oBAAC,WAAD;AAAa,MAAA,GAAG,EAAG,mCAAkC,KAAKlB,KAAL,CAAWkB,OAAQ,EAAxE;AACE,MAAA,GAAG,EAAE,CADP;AAEE,MAAA,QAAQ,EAAE,IAFZ;AAGE,MAAA,GAAG,EAAGJ,MAAD,IAAY;AAAC,aAAKA,MAAL,GAAcA,MAAd;AAAqB,OAHzC;AAIE,MAAA,OAAO,EAAE,KAAKd,KAAL,CAAWmB,SAJtB;AAKE,MAAA,MAAM,EAAE,KAAKpB,YALf;AAME,MAAA,OAAO,EAAE,KAAKI,aANhB;AAOE,MAAA,QAAQ,EAAE,KAAKA,aAPjB;AAQE,MAAA,WAAW,EAAE,KAAKJ,YARpB;AASE,MAAA,UAAU,EAAE,KAAKK,gBATnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADL,GAYK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAbV,CADJ;AAkBH;;AA7C+B;;AAgDpC,eAAeN,WAAf","sourcesContent":["import React, { Component } from 'react';\nimport ReactPlayer from \"react-player/youtube\"\n\nclass VideoPlayer extends Component {\n    //need to handle when someone joins, need to display and start playing the video\n    //need to handle when skipping to a new time\n\n    handleOnPlay = () => {\n        this.props.emitPlayPause(true,this.props.roomId);\n    }\n    handleOnPause = () => {\n        this.props.emitPlayPause(false,this.props.roomId);\n    }\n    handleOnProgress = (data) => {\n        console.log(this.props.time)\n        console.log(data.playedSeconds)\n        let socketTime = this.props.time;\n        let currentTime = data.playedSeconds;\n\n        //if my time is less than or greater than socket time by 10 skip to socket time\n        if(Math.abs(socketTime - currentTime) > 9){\n            console.log('test1')\n            this.player.seekTo(socketTime, 'seconds')\n        }\n        console.log('test2')\n        this.props.emitTime(data.playedSeconds, this.props.roomId)\n    }\n    \n \n    render() {\n        return (\n            <div>\n                {(this.props.videoId !== '') \n                    ? <ReactPlayer url={`https://www.youtube.com/watch?v=${this.props.videoId}`} \n                        rel={0} \n                        controls={true}\n                        ref={(player) => {this.player = player}}\n                        playing={this.props.playPause}\n                        onPlay={this.handleOnPlay}\n                        onPause={this.handleOnPause}\n                        onBuffer={this.handleOnPause}\n                        onBufferEnd={this.handleOnPlay}\n                        onProgress={this.handleOnProgress}\n                        />\n                    : <p>Select A Video</p>\n                }\n            </div>\n        );\n    }\n}\n\nexport default VideoPlayer;"]},"metadata":{},"sourceType":"module"}